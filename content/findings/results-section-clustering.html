---
title: "Sequence Clustering"
description: "Clustering post-military veteran career sequences and exploring these results"
weight: 4
draft: false
output: html_document
editor_options: 
  chunk_output_type: console
---



<div id="transition-matrix" class="section level3">
<h3>Transition Matrix</h3>
<p>There are nine levels of job state: job zone (level) 1, job zone (level) 2, job zone (level) 3, job zone (level) 4, job zone (level) 5, transitional unemployment, unemployment, unemployment or retirement, and unknown job zone.</p>
<p>[Here comes a table that explains the job levels.]</p>
<p>In our sequence analysis, we want to categorize sequential pattern of the job levels. One approach for categorizing sequences is to compute the distance between two sequences. For example, we have two job state sequences and each sequence is composed of three states: <span class="math display">\[S_1 = \{ \text{zone 1, zone 2, zone 3} \}\]</span> <span class="math display">\[S_2 = \{ \text{zone 1, zone 1, zone 3} \}\]</span> The difference between <span class="math inline">\(S_1\)</span> and <span class="math inline">\(S_2\)</span> is at the second state where <span class="math inline">\(S_1\)</span> has zone 2 while <span class="math inline">\(S_2\)</span> has zone 1. To transform <span class="math inline">\(S_1\)</span> to <span class="math inline">\(S_2\)</span>, we substitude zone 2 with zone 1 at state 2. We use the minimum number of substitution that is required to transform one sequence to another sequence to reflect the distance between these two sequences. This is known as &quot;indels&quot;. However not all substitutions are the same: substitute zone 1 with zone 5 is way more costly than substituting with zone 2. Therefore, we use transition rate to estimate the cost to transform from one state to another state.</p>
<p>We constructed transition matrix <span class="math inline">\(T\)</span> with dimension <span class="math inline">\(k \times k\)</span>, k being the number of job states. The transition matrix is composed of transition rates between each pair of states. <span class="math inline">\(T(i,j)\)</span> represents the probability of a sample to convert from the current job state <span class="math inline">\(i\)</span> to the next job state <span class="math inline">\(j\)</span>, for <span class="math inline">\(i \in [1,9], j \in [1,9]\)</span>. Thus the sum of each row is 1. Figure 1 shows the transition matrix.</p>
<p>Darker the color, higher the transition probability between two states. The job states on the diagnal of the transition matrix have the darkest color, meaning that our sample has a higher probability to stay in the same job state.</p>
<p><img src="/findings/results-section-clustering_files/figure-html/unnamed-chunk-3-1.png" width="960" /> <span class="math display">\[\text{Fig 1. Year-to-Year Transition Matrix}\]</span></p>
</div>
<div id="transition-matrix-standardization" class="section level3">
<h3>Transition Matrix standardization</h3>
<p>For sequence clustering, our next step is to construct a substitution-cost matrix <span class="math inline">\(SC\)</span> using the formula <span class="math display">\[SC(i,j) = 2 -T(i,j) -T(j,i)\]</span></p>
<p>Substitution-cost matrix reflects the cost for substituting a job state with another. <span class="math inline">\(SC(i,j)\)</span> represent the cost for changing from the current job state <span class="math inline">\(i\)</span> to the next job state <span class="math inline">\(j\)</span>, for <span class="math inline">\(i \in [1,9], j \in [1,9]\)</span>. We then use transition rate to construct substitution-cost matrix using the formula <span class="math display">\[SC(i, j) = \begin{cases}
2-T(i,j)-T(j,i), &amp; i \neq j\\
0, &amp; i=j
\end{cases}\]</span></p>
<p>The consequence for the diagnal to have large transition probability is the consistent cost between job state <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span> that <span class="math inline">\(SC(i, j)\)</span> will be approximately 2. In order to make the difference between two different states more visible, we standardize the transition matrix by excluding the diagnal when constructing the transition matrix. Figure 2 shows the standardized transition matrix that reflects changes between states. Having diagnal as 0, we can better observe the difference of the transition probability between two different states.</p>
<p><img src="/findings/results-section-clustering_files/figure-html/unnamed-chunk-4-1.png" width="960" /> <span class="math display">\[\text{Fig 2. State Transition Matrix}\]</span></p>
</div>
<div id="clustering" class="section level3">
<h3>Clustering</h3>
<p>We identified 5185 post-military sequences, and there are 2113 (40.8%) distinct sequences. We identified 8 types of clusterings. We have type 1, 5, 6 clusters mainly composed of veterans in job zone 4. Specifically, veterans in type 1 cluster had few years' of transitional unemployment after exiting military before their job-zone-level 4 jobs.</p>
<p><img src="/findings/results-section-clustering_files/Fig3.png" style="width:100.0%" height="900" /> <span class="math display">\[\text{Fig 3. Type 1 Clusters}\]</span></p>
<p>We do observe a career promotion among veterans in type 2 cluster where they started with job zone 3 and went into job zone 4.</p>
<p><img src="/findings/results-section-clustering_files/Fig4.png" style="width:100.0%" height="300" /> <span class="math display">\[\text{Fig 4. Type 2 Clusters}\]</span></p>
<p>The remaining type 3, 7, 8 do no exibit a change in post-military career. Type 3 cluster is composed of jobs in job zone 5. Type 7 cluster is composed of jobs in job zone 1. And type 8 cluster is composed of jobs in job zone 3.</p>
<p><img src="/findings/results-section-clustering_files/Fig5.png" /> {width=100% height=760px;margin-left: 50px; margin-right:50px}</p>
<p><span class="math display">\[\text{Fig 5. Type 3 Clusters}\]</span></p>
<p>To understand how veterans developed different career trajectories, we investigated the relationship between gender, highest degree level and the career trajectory cluster they were associated with.</p>
</div>
<div id="do-veterans-education-background-influence-their-career-trajectory" class="section level3">
<h3>Do veterans' education background influence their career trajectory?</h3>
<p>Here we are showing how many veterans with different degrees fall into each of these 8 clusters. Since the majority of our veteran sample had highest degree as bachelor's and master's degree, here we show the percentage of veterans fall into each of the eight clusters for each highest degree earned. Thus each row adds up to 1.</p>
<p><img src="/findings/results-section-clustering_files/Fig6.png" style="width:100.0%" height="500" /> <span class="math display">\[\text{Fig 7. Cluster Distribution for Different Levels of Education}\]</span></p>
<p><style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#gnwppyvitd .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gnwppyvitd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gnwppyvitd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gnwppyvitd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gnwppyvitd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gnwppyvitd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gnwppyvitd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gnwppyvitd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gnwppyvitd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gnwppyvitd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gnwppyvitd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gnwppyvitd .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#gnwppyvitd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gnwppyvitd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gnwppyvitd .gt_from_md > :first-child {
  margin-top: 0;
}

#gnwppyvitd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gnwppyvitd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gnwppyvitd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#gnwppyvitd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gnwppyvitd .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#gnwppyvitd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gnwppyvitd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gnwppyvitd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gnwppyvitd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gnwppyvitd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#gnwppyvitd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gnwppyvitd .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#gnwppyvitd .gt_left {
  text-align: left;
}

#gnwppyvitd .gt_center {
  text-align: center;
}

#gnwppyvitd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gnwppyvitd .gt_font_normal {
  font-weight: normal;
}

#gnwppyvitd .gt_font_bold {
  font-weight: bold;
}

#gnwppyvitd .gt_font_italic {
  font-style: italic;
}

#gnwppyvitd .gt_super {
  font-size: 65%;
}

#gnwppyvitd .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="gnwppyvitd" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  <thead class="gt_header">
    <tr>
      <th colspan="3" class="gt_heading gt_title gt_font_normal" style>Two-way Frequency Table</th>
    </tr>
    <tr>
      <th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">cluster 2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">not cluster 2</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left gt_stub">bachelor's degree</td>
      <td class="gt_row gt_right">130</td>
      <td class="gt_row gt_right">288</td>
    </tr>
    <tr>
      <td class="gt_row gt_left gt_stub">others</td>
      <td class="gt_row gt_right">781</td>
      <td class="gt_row gt_right">1745</td>
    </tr>
  </tbody>
  
  
</table></div> <span class="math display">\[\text{Table 1. Two-way Frequency Table}\]</span> <img src="/findings/results-section-clustering_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="do-female-and-male-veterans-have-different-career-trajectory" class="section level3">
<h3>Do Female and Male Veterans have different career trajectory?</h3>
<p>In our sample, we have 15.9% (N=824) female veterans, 84.1% (N=3666) male veterans. We conducted <span class="math inline">\(\chi^2\)</span> test. Using 0.05 as the critical value, we conclude that female is statistically different from male in cluster 2 (p=0.0083), 5 (p&lt;0.001), 6 (p=0.017), and 8 (0.042). <img src="/findings/results-section-clustering_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre><code>##    
##     female male
##   1     70  398
##   2     91  537
##   3     37  219
##   4     74  387
##   5    316 1077
##   6     92  528
##   7     71  272
##   8     73  248</code></pre>
<pre><code>## [1] 5.220941e-02 8.293374e-03 1.149379e-01 1.994392e-01 6.078961e-07
## [6] 1.739298e-02 2.729629e-01 4.198785e-02</code></pre>
<pre><code>## [1] FALSE  TRUE FALSE FALSE  TRUE  TRUE FALSE  TRUE</code></pre>
</div>
<div id="references" class="section level3">
<h3>References</h3>
<p>[List your references here using APA format (or at least standardize all of the references using the same format).]</p>
</div>
